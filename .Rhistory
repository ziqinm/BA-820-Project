library(tidyverse)
train = read_csv("train.csv")
summary(train)
library(skimr)
skim(train)
train_orig = read_csv("train.csv")
train_orig = read_csv("train.csv")
summary(train_orig)
glimpse(train_orig)
skim(train_orig)
## Remove `SalePrice` column
train = train_orig %>%
select(-SalePrice)
dim(train)
## Extract text columns
textName = c("MSZoning", "Street", "LotShape", "LandContour", "Utilities",
"LotConfig", "LandSlope", "Neighborhood", "Condition1", "Condition2",
"BldgType", "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
"Exterior2nd", "MasVnrType", "ExterQual", "ExterCond", "Foundation",
"BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinType2",
"Heating", "HeatingQC", "CentralAir", "Electrical", "KitchenQual",
"Functional", "FireplaceQu", "GarageType", "GarageFinish", "GarageQual",
"GarageCond", "PavedDrive", "PoolQC", "Fence", "MiscFeature",
"SaleType", "SaleCondition")
textCol = train %>% select(-textName)
## Extract text columns
textCol = c("MSZoning", "Street", "LotShape", "LandContour", "Utilities",
"LotConfig", "LandSlope", "Neighborhood", "Condition1", "Condition2",
"BldgType", "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
"Exterior2nd", "MasVnrType", "ExterQual", "ExterCond", "Foundation",
"BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinType2",
"Heating", "HeatingQC", "CentralAir", "Electrical", "KitchenQual",
"Functional", "FireplaceQu", "GarageType", "GarageFinish", "GarageQual",
"GarageCond", "PavedDrive", "PoolQC", "Fence", "MiscFeature",
"SaleType", "SaleCondition")
textCol = train %>% select(textCol)
glimpse(textCol)
train[, textCol]
train[, "textCol"]
## Extract text columns
textName = c("MSZoning", "Street", "LotShape", "LandContour", "Utilities",
"LotConfig", "LandSlope", "Neighborhood", "Condition1", "Condition2",
"BldgType", "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
"Exterior2nd", "MasVnrType", "ExterQual", "ExterCond", "Foundation",
"BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinType2",
"Heating", "HeatingQC", "CentralAir", "Electrical", "KitchenQual",
"Functional", "FireplaceQu", "GarageType", "GarageFinish", "GarageQual",
"GarageCond", "PavedDrive", "PoolQC", "Fence", "MiscFeature",
"SaleType", "SaleCondition")
textCol = train %>% select(textName)
glimpse(textCol)
train[, textName]
train[, -textName]
train %>% select(-textName) %>% glimpse()
## Extract text columns
textName = c("MSZoning", "Street", "LotShape", "LandContour", "Utilities",
"LotConfig", "LandSlope", "Neighborhood", "Condition1", "Condition2",
"BldgType", "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
"Exterior2nd", "MasVnrType", "ExterQual", "ExterCond", "Foundation",
"BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinType2",
"Heating", "HeatingQC", "CentralAir", "Electrical", "KitchenQual",
"Functional", "FireplaceQu", "GarageType", "GarageFinish", "GarageQual",
"GarageCond", "PavedDrive", "PoolQC", "Fence", "MiscFeature",
"SaleType", "SaleCondition", "Alley")
textCol = train %>% select(textName)
glimpse(textCol)
train %>% select(-textName) %>% glimpse()
length(textName)
rownames(train)
rownames(train) = train$Id
rownames(train)
train = train %>% select(-Id)
textCol = train %>% select(textName)
train %>% select(-textName) %>% glimpse()
scaleName = c("OverallQual", "OverallCond")
scaleCol = train %>% select(scaleName)
glimpse(scaleName)
glimpse(scaleCol)
train %>% select(-textName, -scaleName) %>% glimpse()
options(stringsAsFactors = FALSE)
library(tidyverse)
library(skimr)
train_orig = read_csv("train.csv")
summary(train_orig)
glimpse(train_orig)
skim(train_orig)
train = train_orig %>%
select(-SalePrice)
dim(train)
## Move `Id` to rownames, then delete
rownames(train) = train$Id
train = train %>% select(-Id)
textName = c("MSZoning", "Street", "LotShape", "LandContour", "Utilities",
"LotConfig", "LandSlope", "Neighborhood", "Condition1", "Condition2",
"BldgType", "HouseStyle", "RoofStyle", "RoofMatl", "Exterior1st",
"Exterior2nd", "MasVnrType", "ExterQual", "ExterCond", "Foundation",
"BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinType2",
"Heating", "HeatingQC", "CentralAir", "Electrical", "KitchenQual",
"Functional", "FireplaceQu", "GarageType", "GarageFinish", "GarageQual",
"GarageCond", "PavedDrive", "PoolQC", "Fence", "MiscFeature",
"SaleType", "SaleCondition", "Alley")
textCol = train %>% select(textName)
glimpse(textCol)
train %>% select(-textName) %>% glimpse()
scaleName = c("OverallQual", "OverallCond")
scaleCol = train %>% select(scaleName)
glimpse(scaleCol)
train %>% select(-textName, -scaleName) %>% glimpse()
train %>% select(-textName, -scaleName) %>% glimpse() = train_num
train %>% select(-textName, -scaleName) %>% glimpse() -> train_num
scaleCol = train %>% select(scaleName)
glimpse(scaleCol)
textCol = train %>% select(textName)
glimpse(textCol)
# Convert rank categories to scales for EFA
skim(textCol)
glimpse(textCol)
# Convert rank categories to scales for EFA
# LotShape: Reg = 4, IR1 = 3, IR2 = 2, IR1 = 1
textCol %>%
mutate(LotShape = str_replace_all(LotShape, Reg, 4))
# Convert rank categories to scales for EFA
# LotShape: Reg = 4, IR1 = 3, IR2 = 2, IR1 = 1
textCol %>%
mutate(LotShape = str_replace_all(LotShape, "Reg", 4))
textCol$LotShape = as.numeric(factor(textCol$LotShape))
textCol$LotShape
glimpse(textCol)
textCol = train %>% select(textName)
glimpse(textCol)
textCol$LotShape[10:20]
## Convert rank categories to scales for EFA
# LotShape: Reg = 4, IR1 = 3, IR2 = 2, IR1 = 1
textCol$LotShape = as.numeric(factor(textCol$LotShape))
textCol$LotShape[10:20]
# Utilities: AllPub = 4, NoSewr = 3, NoSeWa = 2, ELO = 1
as.numeric(factor(textCol$Utilities))
# Utilities: AllPub = 4, NoSewr = 3, NoSeWa = 2, ELO = 1
as.numeric(gsub("AllPub", 4, gsub("NoSewr", 3, gsub("NoSeWa", 2, gsub("ELO", 1, textCol$Utilities)))))
# Utilities: AllPub = 4, NoSewr = 3, NoSeWa = 2, ELO = 1
gsub("AllPub", 4, textCol$Utilities)
# Utilities: AllPub = 4, NoSewr = 3, NoSeWa = 2, ELO = 1
textCol$Utilities = gsub("AllPub", 4, textCol$Utilities)
textCol$Utilities
textCol$Utilities = gsub("NoSewr", 3, textCol$Utilities)
textCol$Utilities = gsub("NoSeWa", 2, textCol$Utilities)
textCol$Utilities = gsub("ELO", 1, textCol$Utilities)
textCol$Utilities
View(textCol$Utilities)
textCol[1001:1460]
textCol$Utilities[1001, 1460]
nrow(textCol)
textCol$Utilities[1001:1460]
str_count(train_orig$Utilities, "NoSewr")
str_length(train_orig$Utilities, "NoSewr")
length(str_count(train_orig$Utilities, "NoSewr"))
unique(train_orig$Utilities)
textCol = train %>% select(textName)
## Convert rank categories to scales for EFA
# LotShape: Reg = 4, IR1 = 3, IR2 = 2, IR1 = 1
textCol$LotShape = as.numeric(factor(textCol$LotShape))
# Utilities: AllPub = 4, NoSewr = 3, NoSeWa = 2, ELO = 1
unique(textCol$Utilities)
textCol$Utilities = gsub("AllPub", 4, textCol$Utilities)
textCol$Utilities = gsub("NoSeWa", 2, textCol$Utilities)
test_orig = read_csv("test.csv")
unique(test_orig$Utilities)
unique(test_orig$LotShape)
glimpse(textCol)
